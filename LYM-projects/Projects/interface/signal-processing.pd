#N canvas 205 328 409 283 10;
#X declare -lib mrpeach;
#X obj 16 76 bng 100 250 50 0 empty empty empty 0 -6 0 8 -24198 -1
-1;
#X obj 116 136 bng 40 250 50 0 empty empty empty 0 -6 0 8 -258699 -1
-1;
#X obj 15 59 loadbang;
#X text 9 43 UDP connection;
#X text 117 45 AUDIO ON;
#X obj 116 61 loadbang;
#X msg 116 77 \; pd dsp 1;
#N canvas 834 410 692 289 UDPinOut 0;
#X msg 194 64 disconnect;
#X text 58 8 OPEN UDP CONNECTION;
#X text 200 8 CLOSE UDP CONNECTION;
#X obj 171 146 r message;
#X obj 118 24 inlet;
#X obj 194 26 inlet;
#X floatatom 118 231 5 0 0 0 - - -;
#X obj 233 41 r disconnect;
#X obj 127 92 r connect;
#X text 204 99 Porphyrograph;
#X text 361 11 OSC message processing;
#X text 523 12 from Porphyrograph;
#X obj 364 109 s connect;
#X obj 467 108 s soundtrack_fileName;
#X obj 364 85 route /connect /soundtrack_fileName;
#X obj 171 175 packOSC;
#X obj 118 209 udpsend;
#X obj 364 58 unpackOSC;
#X msg 118 120 connect 127.0.0.1 9000;
#X obj 364 32 udpreceive 8000;
#X connect 0 0 16 0;
#X connect 3 0 15 0;
#X connect 4 0 18 0;
#X connect 5 0 0 0;
#X connect 7 0 0 0;
#X connect 8 0 18 0;
#X connect 14 0 12 0;
#X connect 14 1 13 0;
#X connect 15 0 16 0;
#X connect 16 0 6 0;
#X connect 17 0 14 0;
#X connect 18 0 16 0;
#X connect 19 0 17 0;
#X coords 0 0 10 10 0 0 0;
#X restore 16 176 pd UDPinOut;
#N canvas 417 50 1089 271 play_soundtrack 0;
#X msg 61 109 open \$1;
#X obj 60 179 readsf~ 2;
#X obj 36 135 delay 1;
#X msg 36 152 1;
#X obj 36 116 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 166 166 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X text 185 166 Loop at the end of the track;
#X obj 61 51 pack s;
#X text 14 7 TRACK NAME SENT BY PORPHROGRAPH THRU /playsoundtrack MSG
;
#X obj 21 211 s~ channel1;
#X obj 115 211 s~ channel2;
#X obj 42 27 r soundtrack_fileName;
#X obj 65 238 dac~ 1 2;
#X floatatom 302 52 5 0 0 0 - - -;
#X obj 295 26 r soundtrack_onOff;
#X obj 166 108 moses 0.5;
#X obj 584 72 inlet;
#X msg 584 102 0;
#X symbolatom 61 82 60 0 0 0 - - -;
#X connect 0 0 1 0;
#X connect 1 0 9 0;
#X connect 1 0 12 0;
#X connect 1 1 10 0;
#X connect 1 1 12 1;
#X connect 1 2 5 0;
#X connect 2 0 3 0;
#X connect 3 0 1 0;
#X connect 4 0 2 0;
#X connect 5 0 2 0;
#X connect 5 0 18 0;
#X connect 7 0 18 0;
#X connect 11 0 4 0;
#X connect 11 0 7 0;
#X connect 14 0 13 0;
#X connect 14 0 15 0;
#X connect 15 0 1 0;
#X connect 15 1 5 0;
#X connect 16 0 17 0;
#X connect 17 0 1 0;
#X connect 18 0 0 0;
#X restore 183 84 pd play_soundtrack;
#X text 202 170 MUSIC CONTROL;
#X text 182 66 SOUNDTRACKS;
#X obj 273 44 bng 40 250 50 0 empty empty empty 0 -6 0 8 -258699 -1
-1;
#X obj 198 190 bng 40 250 50 0 empty empty empty 0 -6 0 8 -4034 -1
-1;
#N canvas 205 147 789 522 sound_analysis 0;
#X obj 336 169 bonk~;
#X text 572 164 ATTACK OUTPUT;
#X obj 579 186 unpack f f f;
#X obj 358 89 loadbang;
#X msg 443 129 minvel 0.1;
#X msg 358 128 thresh 6 50;
#X obj 87 14 adc~ 1 2;
#X obj 90 457 s message;
#X text 511 220 attack above which a beat is sent;
#X obj 106 46 +~;
#X obj 45 377 r beat;
#X obj 272 128 metro 20;
#X obj 186 161 env~;
#X floatatom 188 188 5 0 0 0 - - -;
#X obj 269 166 s beat;
#X obj 90 408 pack 0 f f;
#X msg 90 433 send /env_attack \$2 \$3;
#X floatatom 624 280 5 0 0 0 - - -;
#X obj 148 307 / 100;
#X obj 439 267 / 20;
#X connect 0 1 2 0;
#X connect 2 1 17 0;
#X connect 2 1 19 0;
#X connect 3 0 5 0;
#X connect 3 0 4 0;
#X connect 3 0 11 0;
#X connect 4 0 0 0;
#X connect 5 0 0 0;
#X connect 6 0 9 0;
#X connect 6 1 9 1;
#X connect 9 0 12 0;
#X connect 9 0 0 0;
#X connect 10 0 15 0;
#X connect 11 0 0 0;
#X connect 11 0 14 0;
#X connect 12 0 13 0;
#X connect 12 0 18 0;
#X connect 15 0 16 0;
#X connect 16 0 7 0;
#X connect 18 0 15 1;
#X connect 19 0 15 2;
#X restore 198 237 pd sound_analysis;
#X text 244 201 MIN MAX AUTOM;
#X text 243 188 RESET SOUND;
#X text 243 213 OBSERVATION;
#X obj 18 9 import mrpeach;
#X connect 0 0 7 0;
#X connect 1 0 7 1;
#X connect 2 0 0 0;
#X connect 5 0 6 0;
#X connect 11 0 8 0;
